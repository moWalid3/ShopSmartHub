<div class="surface-card p-4 shadow-2 border-1 border-200 border-round my-2 mx-auto">
  <div class="text-center mb-5">
    <img src="logo.png" alt="Image" height="50" class="mb-3">
    @if (successSentMsg()) {
      <p-messages [value]="[{ severity: 'success', detail: successSentMsg() }]" [enableService]="false" dir="ltr" />
    }
    <p class="m-0 flex justify-content-center gap-2 flex-wrap text-600 font-medium line-height-3">
      {{verifyResetCode() ? 'Verify Reset Code' : 'To reset your password, please enter your email address'}}
    </p>
  </div>

  @if (errorMsg()) {
    <p-messages [value]="[{ severity: 'error', detail: errorMsg() }]" [enableService]="false" dir="ltr" />
  }

  <form [formGroup]="resetPasswordForm">

    @if (verifyResetCode()) {
      <div class="flex justify-content-center mb-3">
        <p-inputOtp formControlName="resetCode" [length]="6" />
      </div>
      <p-button type="submit" (onClick)="onResetCode()" [disabled]="resetPasswordForm.controls.resetCode.invalid" [loading]="loading()" [label]="'auth.submit' | translate" icon="pi pi-send" styleClass="w-full" />
    }@else {
      <app-validation-field [fieldControl]="resetPasswordForm.controls.email" [validations]="[{name: 'required', msg: 'auth.emailIsRequired'}, {name: 'pattern', msg: 'auth.enterValidEmail'}]" [label]="{value: 'auth.email', for: 'reset-password-password'}">
        <input formControlName="email" id="reset-password-email" type="email" class="w-full ng-dirty mb-1" [class.ng-invalid]="resetPasswordForm.controls.email.invalid && resetPasswordForm.controls.email.touched" [placeholder]="'auth.emailAddress' | translate" pInputText />
      </app-validation-field>
      <p-button type="submit" (onClick)="onSendEmail()" [disabled]="resetPasswordForm.controls.email.invalid" [loading]="loading()" [label]="'auth.submit' | translate" icon="pi pi-send" styleClass="w-full" />
    }

  </form>
</div>